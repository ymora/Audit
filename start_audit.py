#!/usr/bin/env python3
"""
LANCEUR UNIFI√â - SYST√àME D'AUDIT UNIVERSEL
==========================================

Script de lancement unifi√© pour le syst√®me d'audit universel.
"""

import sys
import subprocess
import os
from pathlib import Path

def check_dependencies():
    """V√©rifie que toutes les d√©pendances sont disponibles."""
    try:
        import tkinter
        import tkinter.ttk
        import tkinter.filedialog
        import tkinter.messagebox
        import tkinter.scrolledtext
        return True
    except ImportError as e:
        print(f"‚ùå D√©pendance manquante: {e}")
        print("üí° tkinter est g√©n√©ralement inclus avec Python.")
        return False

def main():
    """Fonction principale."""
    print("üîç Lancement du Syst√®me d'Audit Universel")
    print("=" * 50)
    
    # V√©rifier les d√©pendances
    if not check_dependencies():
        print("\n‚ùå Impossible de lancer l'interface graphique.")
        print("üí° Essayez de r√©installer Python avec tkinter inclus.")
        return 1
    
    # Chemin vers le script GUI principal
    audit_dir = Path(__file__).parent
    gui_script = audit_dir / "core" / "audit_gui.py"
    
    if not gui_script.exists():
        print(f"‚ùå Script GUI introuvable: {gui_script}")
        return 1
    
    print(f"‚úÖ Script GUI trouv√©: {gui_script}")
    print("üöÄ Lancement de l'interface moderne...")
    print()
    
    try:
        # Lancer l'interface graphique
        subprocess.run([sys.executable, str(gui_script)], check=True)
        return 0
    except subprocess.CalledProcessError as e:
        print(f"‚ùå Erreur lors du lancement: {e}")
        return 1
    except KeyboardInterrupt:
        print("\n‚èπÔ∏è Lancement interrompu par l'utilisateur.")
        return 0

if __name__ == "__main__":
    sys.exit(main())
